import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"Circular Dependency Ã‡Ã¶zÃ¼mÃ¼ - DetaylÄ± AÃ§Ä±klama","description":"","frontmatter":{},"headers":[],"relativePath":"guide/circular-dependency-explanation.md","filePath":"guide/circular-dependency-explanation.md"}');
const _sfc_main = { name: "guide/circular-dependency-explanation.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="circular-dependency-cozumu-detaylÄ±-acÄ±klama" tabindex="-1">Circular Dependency Ã‡Ã¶zÃ¼mÃ¼ - DetaylÄ± AÃ§Ä±klama <a class="header-anchor" href="#circular-dependency-cozumu-detaylÄ±-acÄ±klama" aria-label="Permalink to &quot;Circular Dependency Ã‡Ã¶zÃ¼mÃ¼ - DetaylÄ± AÃ§Ä±klama&quot;">â€‹</a></h1><h2 id="problem" tabindex="-1">Problem <a class="header-anchor" href="#problem" aria-label="Permalink to &quot;Problem&quot;">â€‹</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">class</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> ServiceA</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">  constructor</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">private</span><span style="${ssrRenderStyle({ "--shiki-light": "#E36209", "--shiki-dark": "#FFAB70" })}"> serviceB</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">:</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> ServiceB</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">) {}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">}</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">class</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> ServiceB</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">  constructor</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">private</span><span style="${ssrRenderStyle({ "--shiki-light": "#E36209", "--shiki-dark": "#FFAB70" })}"> serviceA</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">:</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> ServiceA</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">) {} </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// Circular!</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">}</span></span></code></pre></div><p><strong>Sorun:</strong> ServiceA oluÅŸturulmak iÃ§in ServiceB&#39;ye ihtiyaÃ§ var, ServiceB oluÅŸturulmak iÃ§in ServiceA&#39;ya ihtiyaÃ§ var. Bu sonsuz dÃ¶ngÃ¼ye yol aÃ§ar.</p><h2 id="cozum-resolution-stack-partial-instance" tabindex="-1">Ã‡Ã¶zÃ¼m: Resolution Stack + Partial Instance <a class="header-anchor" href="#cozum-resolution-stack-partial-instance" aria-label="Permalink to &quot;Ã‡Ã¶zÃ¼m: Resolution Stack + Partial Instance&quot;">â€‹</a></h2><h3 id="ana-fikir" tabindex="-1">Ana Fikir <a class="header-anchor" href="#ana-fikir" aria-label="Permalink to &quot;Ana Fikir&quot;">â€‹</a></h3><ol><li><strong>Resolution Stack</strong>: Åu anda oluÅŸturulmakta olan servisleri takip eder</li><li><strong>Partial Instance</strong>: Circular dependency tespit edildiÄŸinde, kÄ±smen oluÅŸturulmuÅŸ instance&#39;Ä± dÃ¶ndÃ¼rÃ¼r</li><li><strong>Instance GÃ¼ncelleme</strong>: Dependencies resolve edildikten sonra, partial instance&#39;Ä± gerÃ§ek dependencies ile gÃ¼nceller</li></ol><h2 id="adÄ±m-adÄ±m-calÄ±sma" tabindex="-1">AdÄ±m AdÄ±m Ã‡alÄ±ÅŸma <a class="header-anchor" href="#adÄ±m-adÄ±m-calÄ±sma" aria-label="Permalink to &quot;AdÄ±m AdÄ±m Ã‡alÄ±ÅŸma&quot;">â€‹</a></h2><h3 id="senaryo-servicea-ve-serviceb-circular-dependency" tabindex="-1">Senaryo: ServiceA ve ServiceB Circular Dependency <a class="header-anchor" href="#senaryo-servicea-ve-serviceb-circular-dependency" aria-label="Permalink to &quot;Senaryo: ServiceA ve ServiceB Circular Dependency&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">services.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">addSingleton</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(ServiceAToken, ServiceA, [ServiceBToken]);</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">services.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">addSingleton</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(ServiceBToken, ServiceB, [ServiceAToken]);</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> serviceA</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> await</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> provider.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">getRequiredService</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(ServiceAToken);</span></span></code></pre></div><h3 id="adÄ±m-1-servicea-resolve-edilmeye-baslanÄ±yor" tabindex="-1">AdÄ±m 1: ServiceA Resolve Edilmeye BaÅŸlanÄ±yor <a class="header-anchor" href="#adÄ±m-1-servicea-resolve-edilmeye-baslanÄ±yor" aria-label="Permalink to &quot;AdÄ±m 1: ServiceA Resolve Edilmeye BaÅŸlanÄ±yor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. getRequiredService(ServiceAToken) Ã§aÄŸrÄ±lÄ±r</span></span>
<span class="line"><span>2. resolveService(ServiceA) Ã§aÄŸrÄ±lÄ±r</span></span>
<span class="line"><span>3. resolutionStack.add(ServiceAToken) â†’ Stack: [ServiceAToken]</span></span>
<span class="line"><span>4. createInstance(ServiceA) Ã§aÄŸrÄ±lÄ±r</span></span></code></pre></div><p><strong>Kod:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// resolveService iÃ§inde</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">rootProvider.resolutionStack.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">add</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(token); </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// ServiceAToken eklendi</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> instance</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> await</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> rootProvider.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">createInstance</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(desc, rootProvider, token);</span></span></code></pre></div><h3 id="adÄ±m-2-servicea-icin-partial-instance-olusturuluyor" tabindex="-1">AdÄ±m 2: ServiceA Ä°Ã§in Partial Instance OluÅŸturuluyor <a class="header-anchor" href="#adÄ±m-2-servicea-icin-partial-instance-olusturuluyor" aria-label="Permalink to &quot;AdÄ±m 2: ServiceA Ä°Ã§in Partial Instance OluÅŸturuluyor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>5. createInstance iÃ§inde:</span></span>
<span class="line"><span>   - Parametre sayÄ±sÄ± belirlenir: 1 (ServiceB)</span></span>
<span class="line"><span>   - Placeholder instance oluÅŸturulur: new ServiceA(undefined)</span></span>
<span class="line"><span>   - constructingInstances.set(ServiceAToken, placeholderInstance)</span></span></code></pre></div><p><strong>Kod:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// createInstance iÃ§inde</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> args</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> new</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> Array</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(paramCount).</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">fill</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">undefined</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">); </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// [undefined]</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">instance </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> new</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> desc.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">implementation</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">...</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">args); </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// new ServiceA(undefined)</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">resolver.constructingInstances.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">set</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(token, instance); </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// ServiceAToken -&gt; partial ServiceA</span></span></code></pre></div><p><strong>Durum:</strong></p><ul><li><code>resolutionStack</code>: [ServiceAToken]</li><li ServiceAToken:="" partialServiceA=""><code>constructingInstances</code>:</li><li><code>instances</code>: {} (henÃ¼z tamamlanmÄ±ÅŸ instance yok)</li></ul><h3 id="adÄ±m-3-servicea-nÄ±n-dependencies-i-resolve-ediliyor" tabindex="-1">AdÄ±m 3: ServiceA&#39;nÄ±n Dependencies&#39;i Resolve Ediliyor <a class="header-anchor" href="#adÄ±m-3-servicea-nÄ±n-dependencies-i-resolve-ediliyor" aria-label="Permalink to &quot;AdÄ±m 3: ServiceA&#39;nÄ±n Dependencies&#39;i Resolve Ediliyor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>6. ServiceA&#39;nÄ±n dependencies&#39;i resolve edilmeye Ã§alÄ±ÅŸÄ±lÄ±r: [ServiceBToken]</span></span>
<span class="line"><span>7. getRequiredService(ServiceBToken) Ã§aÄŸrÄ±lÄ±r</span></span>
<span class="line"><span>8. resolveService(ServiceB) Ã§aÄŸrÄ±lÄ±r</span></span></code></pre></div><p><strong>Kod:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// createInstance iÃ§inde</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">deps </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> await</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> Promise</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">all</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(desc.dependencies.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">map</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">((</span><span style="${ssrRenderStyle({ "--shiki-light": "#E36209", "--shiki-dark": "#FFAB70" })}">depToken</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">) </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=&gt;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> resolver.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">getRequiredService</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(depToken)));</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// ServiceBToken iÃ§in getRequiredService Ã§aÄŸrÄ±lÄ±r</span></span></code></pre></div><h3 id="adÄ±m-4-serviceb-resolve-edilmeye-baslanÄ±yor" tabindex="-1">AdÄ±m 4: ServiceB Resolve Edilmeye BaÅŸlanÄ±yor <a class="header-anchor" href="#adÄ±m-4-serviceb-resolve-edilmeye-baslanÄ±yor" aria-label="Permalink to &quot;AdÄ±m 4: ServiceB Resolve Edilmeye BaÅŸlanÄ±yor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>9. resolveService(ServiceB) Ã§aÄŸrÄ±lÄ±r</span></span>
<span class="line"><span>10. resolutionStack.has(ServiceBToken)? â†’ HayÄ±r</span></span>
<span class="line"><span>11. resolutionStack.add(ServiceBToken) â†’ Stack: [ServiceAToken, ServiceBToken]</span></span>
<span class="line"><span>12. createInstance(ServiceB) Ã§aÄŸrÄ±lÄ±r</span></span></code></pre></div><p><strong>Durum:</strong></p><ul><li><code>resolutionStack</code>: [ServiceAToken, ServiceBToken]</li><li ServiceAToken:="" partialServiceA=""><code>constructingInstances</code>:</li></ul><h3 id="adÄ±m-5-serviceb-icin-partial-instance-olusturuluyor" tabindex="-1">AdÄ±m 5: ServiceB Ä°Ã§in Partial Instance OluÅŸturuluyor <a class="header-anchor" href="#adÄ±m-5-serviceb-icin-partial-instance-olusturuluyor" aria-label="Permalink to &quot;AdÄ±m 5: ServiceB Ä°Ã§in Partial Instance OluÅŸturuluyor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>13. createInstance iÃ§inde:</span></span>
<span class="line"><span>    - Parametre sayÄ±sÄ±: 1 (ServiceA)</span></span>
<span class="line"><span>    - Placeholder instance: new ServiceB(undefined)</span></span>
<span class="line"><span>    - constructingInstances.set(ServiceBToken, placeholderInstance)</span></span></code></pre></div><p><strong>Durum:</strong></p><ul><li><code>resolutionStack</code>: [ServiceAToken, ServiceBToken]</li><li><code>constructingInstances</code>: { ServiceAToken: partialServiceA, ServiceBToken: partialServiceB }</li></ul><h3 id="adÄ±m-6-serviceb-nin-dependencies-i-resolve-ediliyor" tabindex="-1">AdÄ±m 6: ServiceB&#39;nin Dependencies&#39;i Resolve Ediliyor <a class="header-anchor" href="#adÄ±m-6-serviceb-nin-dependencies-i-resolve-ediliyor" aria-label="Permalink to &quot;AdÄ±m 6: ServiceB&#39;nin Dependencies&#39;i Resolve Ediliyor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>14. ServiceB&#39;nin dependencies&#39;i resolve edilmeye Ã§alÄ±ÅŸÄ±lÄ±r: [ServiceAToken]</span></span>
<span class="line"><span>15. getRequiredService(ServiceAToken) Ã§aÄŸrÄ±lÄ±r</span></span>
<span class="line"><span>16. resolveService(ServiceA) Ã§aÄŸrÄ±lÄ±r</span></span></code></pre></div><h3 id="adÄ±m-7-circular-dependency-tespit-ediliyor-ğŸ”„" tabindex="-1">AdÄ±m 7: Circular Dependency Tespit Ediliyor! ğŸ”„ <a class="header-anchor" href="#adÄ±m-7-circular-dependency-tespit-ediliyor-ğŸ”„" aria-label="Permalink to &quot;AdÄ±m 7: Circular Dependency Tespit Ediliyor! ğŸ”„&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>17. resolveService(ServiceA) iÃ§inde:</span></span>
<span class="line"><span>    - resolutionStack.has(ServiceAToken)? â†’ EVET! (zaten stack&#39;te)</span></span>
<span class="line"><span>    - Circular dependency tespit edildi!</span></span>
<span class="line"><span>    - constructingInstances.get(ServiceAToken) â†’ partialServiceA dÃ¶ndÃ¼rÃ¼lÃ¼r</span></span></code></pre></div><p><strong>Kod:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// resolveService iÃ§inde</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">if</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> (rootProvider.resolutionStack.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">has</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(token)) {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">  // Circular dependency detected!</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">  const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> partialInstance</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> rootProvider.constructingInstances.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">get</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(token);</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">  if</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> (partialInstance </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">!==</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> undefined</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">) {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">    return</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> partialInstance; </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// âœ… partialServiceA dÃ¶ndÃ¼rÃ¼lÃ¼r</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">}</span></span></code></pre></div><p><strong>Durum:</strong></p><ul><li>ServiceB, ServiceA&#39;yÄ± dependency olarak alÄ±yor</li><li>Ama ServiceA henÃ¼z tamamlanmamÄ±ÅŸ (partial instance)</li><li>Bu sorun deÄŸil! Ã‡Ã¼nkÃ¼ ServiceA&#39;nÄ±n constructor&#39;Ä± zaten Ã§alÄ±ÅŸtÄ±</li></ul><h3 id="adÄ±m-8-serviceb-tamamlanÄ±yor" tabindex="-1">AdÄ±m 8: ServiceB TamamlanÄ±yor <a class="header-anchor" href="#adÄ±m-8-serviceb-tamamlanÄ±yor" aria-label="Permalink to &quot;AdÄ±m 8: ServiceB TamamlanÄ±yor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>18. ServiceB&#39;nin dependencies&#39;i: [partialServiceA]</span></span>
<span class="line"><span>19. ServiceB instance&#39;Ä± gÃ¼ncellenir:</span></span>
<span class="line"><span>    - tempInstance = new ServiceB(partialServiceA)</span></span>
<span class="line"><span>    - partialServiceB&#39;ye tÃ¼m property&#39;ler kopyalanÄ±r</span></span>
<span class="line"><span>20. ServiceB tamamlandÄ±!</span></span></code></pre></div><p><strong>Kod:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// createInstance iÃ§inde</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> tempInstance</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> new</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> desc.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">implementation</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">...</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">deps); </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// new ServiceB(partialServiceA)</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// partialServiceB&#39;ye tÃ¼m property&#39;ler kopyalanÄ±r</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">Object.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">setPrototypeOf</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(instance, Object.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">getPrototypeOf</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(tempInstance));</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// ... property copying ...</span></span></code></pre></div><p><strong>Durum:</strong></p><ul><li><code>resolutionStack</code>: [ServiceAToken, ServiceBToken]</li><li><code>constructingInstances</code>: { ServiceAToken: partialServiceA, ServiceBToken: completedServiceB }</li><li><code>instances</code>: {} (henÃ¼z hiÃ§biri instances&#39;a eklenmedi)</li></ul><h3 id="adÄ±m-9-serviceb-instances-a-ekleniyor" tabindex="-1">AdÄ±m 9: ServiceB Instances&#39;a Ekleniyor <a class="header-anchor" href="#adÄ±m-9-serviceb-instances-a-ekleniyor" aria-label="Permalink to &quot;AdÄ±m 9: ServiceB Instances&#39;a Ekleniyor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>21. resolveService(ServiceB) tamamlanÄ±yor</span></span>
<span class="line"><span>22. instances.set(ServiceBToken, completedServiceB)</span></span>
<span class="line"><span>23. resolutionStack.delete(ServiceBToken) â†’ Stack: [ServiceAToken]</span></span>
<span class="line"><span>24. constructingInstances.delete(ServiceBToken)</span></span></code></pre></div><p><strong>Durum:</strong></p><ul><li><code>resolutionStack</code>: [ServiceAToken]</li><li ServiceAToken:="" partialServiceA=""><code>constructingInstances</code>:</li><li ServiceBToken:="" completedServiceB=""><code>instances</code>:</li></ul><h3 id="adÄ±m-10-servicea-tamamlanÄ±yor" tabindex="-1">AdÄ±m 10: ServiceA TamamlanÄ±yor <a class="header-anchor" href="#adÄ±m-10-servicea-tamamlanÄ±yor" aria-label="Permalink to &quot;AdÄ±m 10: ServiceA TamamlanÄ±yor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>25. ServiceA&#39;nÄ±n dependencies&#39;i: [completedServiceB]</span></span>
<span class="line"><span>26. ServiceA instance&#39;Ä± gÃ¼ncellenir:</span></span>
<span class="line"><span>    - tempInstance = new ServiceA(completedServiceB)</span></span>
<span class="line"><span>    - partialServiceA&#39;ya tÃ¼m property&#39;ler kopyalanÄ±r</span></span>
<span class="line"><span>27. ServiceA tamamlandÄ±!</span></span></code></pre></div><p><strong>Durum:</strong></p><ul><li><code>resolutionStack</code>: [ServiceAToken]</li><li ServiceAToken:="" completedServiceA=""><code>constructingInstances</code>:</li><li ServiceBToken:="" completedServiceB=""><code>instances</code>:</li></ul><h3 id="adÄ±m-11-servicea-instances-a-ekleniyor" tabindex="-1">AdÄ±m 11: ServiceA Instances&#39;a Ekleniyor <a class="header-anchor" href="#adÄ±m-11-servicea-instances-a-ekleniyor" aria-label="Permalink to &quot;AdÄ±m 11: ServiceA Instances&#39;a Ekleniyor&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>28. resolveService(ServiceA) tamamlanÄ±yor</span></span>
<span class="line"><span>29. instances.set(ServiceAToken, completedServiceA)</span></span>
<span class="line"><span>30. resolutionStack.delete(ServiceAToken) â†’ Stack: []</span></span>
<span class="line"><span>31. constructingInstances.delete(ServiceAToken)</span></span></code></pre></div><p><strong>Final Durum:</strong></p><ul><li><code>resolutionStack</code>: [] (boÅŸ)</li><li><code>constructingInstances</code>: {} (boÅŸ)</li><li><code>instances</code>: { ServiceAToken: completedServiceA, ServiceBToken: completedServiceB }</li></ul><h2 id="onemli-noktalar" tabindex="-1">Ã–nemli Noktalar <a class="header-anchor" href="#onemli-noktalar" aria-label="Permalink to &quot;Ã–nemli Noktalar&quot;">â€‹</a></h2><h3 id="_1-partial-instance-neden-calÄ±sÄ±yor" tabindex="-1">1. Partial Instance Neden Ã‡alÄ±ÅŸÄ±yor? <a class="header-anchor" href="#_1-partial-instance-neden-calÄ±sÄ±yor" aria-label="Permalink to &quot;1. Partial Instance Neden Ã‡alÄ±ÅŸÄ±yor?&quot;">â€‹</a></h3><p>JavaScript/TypeScript&#39;te constructor Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda:</p><ul><li>Instance oluÅŸturulur (bellekte yer ayrÄ±lÄ±r)</li><li>Constructor Ã§alÄ±ÅŸÄ±r</li><li>Instance referansÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r</li></ul><p>EÄŸer constructor iÃ§inde bir property&#39;ye atama yapÄ±lÄ±yorsa (Ã¶rneÄŸin <code>this.serviceB = serviceB</code>), bu atama daha sonra da yapÄ±labilir. Bu yÃ¼zden Ã¶nce <code>undefined</code> ile instance oluÅŸturup, sonra gerÃ§ek deÄŸeri atayabiliyoruz.</p><h3 id="_2-property-kopyalama-neden-gerekli" tabindex="-1">2. Property Kopyalama Neden Gerekli? <a class="header-anchor" href="#_2-property-kopyalama-neden-gerekli" aria-label="Permalink to &quot;2. Property Kopyalama Neden Gerekli?&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// Ä°lk oluÅŸturma (undefined ile)</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> partialInstance</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> new</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> ServiceA</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">undefined</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">);</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// partialInstance.serviceB = undefined</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// Sonra gerÃ§ek dependency ile yeni instance</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> tempInstance</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> new</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> ServiceA</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(completedServiceB);</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// tempInstance.serviceB = completedServiceB</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// Property&#39;leri kopyala</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">Object.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">assign</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(partialInstance, tempInstance);</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// ArtÄ±k partialInstance.serviceB = completedServiceB</span></span></code></pre></div><h3 id="_3-transient-vs-singleton-scoped-farkÄ±" tabindex="-1">3. Transient vs Singleton/Scoped FarkÄ± <a class="header-anchor" href="#_3-transient-vs-singleton-scoped-farkÄ±" aria-label="Permalink to &quot;3. Transient vs Singleton/Scoped FarkÄ±&quot;">â€‹</a></h3><p><strong>Singleton/Scoped:</strong></p><ul><li>Instance bir kez oluÅŸturulur ve cache&#39;lenir</li><li>Circular dependency tamamen Ã§Ã¶zÃ¼lÃ¼r</li></ul><p><strong>Transient:</strong></p><ul><li><p>Her <code>getRequiredService</code> Ã§aÄŸrÄ±sÄ± yeni instance oluÅŸturur</p></li><li><p>Ama aynÄ± resolution Ã§aÄŸrÄ±sÄ± iÃ§inde circular dependency Ã§Ã¶zÃ¼lÃ¼r</p></li><li><p>Ã–rnek:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// Ä°lk Ã§aÄŸrÄ±</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> a1</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> await</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> provider.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">getRequiredService</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(ServiceAToken); </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// Yeni instance</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> b1</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> await</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> provider.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">getRequiredService</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(ServiceBToken); </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// Yeni instance</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// Ä°kinci Ã§aÄŸrÄ±</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> a2</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> await</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> provider.</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">getRequiredService</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(ServiceAToken); </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// YENÄ° instance (a1 !== a2)</span></span></code></pre></div></li></ul><h2 id="gorsel-akÄ±s-diyagramÄ±" tabindex="-1">GÃ¶rsel AkÄ±ÅŸ DiyagramÄ± <a class="header-anchor" href="#gorsel-akÄ±s-diyagramÄ±" aria-label="Permalink to &quot;GÃ¶rsel AkÄ±ÅŸ DiyagramÄ±&quot;">â€‹</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>getRequiredService(ServiceAToken)</span></span>
<span class="line"><span>  â”‚</span></span>
<span class="line"><span>  â”œâ”€&gt; resolutionStack: [ServiceAToken]</span></span>
<span class="line"><span>  â”œâ”€&gt; createInstance(ServiceA)</span></span>
<span class="line"><span>  â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”œâ”€&gt; partialServiceA = new ServiceA(undefined)</span></span>
<span class="line"><span>  â”‚     â”œâ”€&gt; constructingInstances[ServiceAToken] = partialServiceA</span></span>
<span class="line"><span>  â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”œâ”€&gt; getRequiredService(ServiceBToken)  â† Dependency</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”‚     â”œâ”€&gt; resolutionStack: [ServiceAToken, ServiceBToken]</span></span>
<span class="line"><span>  â”‚     â”‚     â”œâ”€&gt; createInstance(ServiceB)</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”œâ”€&gt; partialServiceB = new ServiceB(undefined)</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”œâ”€&gt; constructingInstances[ServiceBToken] = partialServiceB</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”œâ”€&gt; getRequiredService(ServiceAToken)  â† Circular!</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”‚     â”œâ”€&gt; resolutionStack.has(ServiceAToken)? â†’ EVET!</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”‚     â””â”€&gt; return partialServiceA  âœ…</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â”œâ”€&gt; Update partialServiceB with partialServiceA</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚     â””â”€&gt; return completedServiceB</span></span>
<span class="line"><span>  â”‚     â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”‚     â””â”€&gt; instances[ServiceBToken] = completedServiceB</span></span>
<span class="line"><span>  â”‚     â”‚</span></span>
<span class="line"><span>  â”‚     â”œâ”€&gt; Update partialServiceA with completedServiceB</span></span>
<span class="line"><span>  â”‚     â””â”€&gt; return completedServiceA</span></span>
<span class="line"><span>  â”‚</span></span>
<span class="line"><span>  â””â”€&gt; instances[ServiceAToken] = completedServiceA</span></span></code></pre></div><h2 id="ozet" tabindex="-1">Ã–zet <a class="header-anchor" href="#ozet" aria-label="Permalink to &quot;Ã–zet&quot;">â€‹</a></h2><p>Circular dependency Ã§Ã¶zÃ¼mÃ¼ 3 temel mekanizma ile Ã§alÄ±ÅŸÄ±r:</p><ol><li><strong>Resolution Stack</strong>: Hangi servislerin ÅŸu anda oluÅŸturulduÄŸunu takip eder</li><li><strong>Partial Instance</strong>: Circular dependency tespit edildiÄŸinde, kÄ±smen oluÅŸturulmuÅŸ instance&#39;Ä± dÃ¶ndÃ¼rÃ¼r</li><li><strong>Property Kopyalama</strong>: Dependencies resolve edildikten sonra, partial instance&#39;Ä± gerÃ§ek deÄŸerlerle gÃ¼nceller</li></ol><p>Bu yaklaÅŸÄ±m .NET Core&#39;un DI container&#39;Ä±yla aynÄ± mantÄ±kla Ã§alÄ±ÅŸÄ±r ve tÃ¼m service lifetime&#39;larÄ± iÃ§in geÃ§erlidir.</p></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("guide/circular-dependency-explanation.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const circularDependencyExplanation = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  circularDependencyExplanation as default
};
